---
layout: default
title: Guide
---

  <style type="text/css">
    img
    {
      display: block;
      margin-left: auto;
      margin-right: auto;
    }
    a
    {
      text-decoration: none;
    }
  </style>


<h3>Getting Started</h3>

<p>The easiest way to get familiar with what Glimpse offers and how it works is to check out the large library of examples in the <a href="https://github.com/metsci/glimpse/tree/master/core-examples/src/main/java/com/metsci/glimpse/examples">core-examples</a> and <a href="https://github.com/metsci/glimpse/tree/master/extras-examples/src/main/java/com/metsci/glimpse/examples">extras-examples</a> modules. Each example consists of a single runnable Java class that demonstrates a feature of Glimpse. Here's the output of <a href="https://github.com/metsci/glimpse/blob/master/core-examples/src/main/java/com/metsci/glimpse/examples/basic/HeatMapExample.java">HeatMapExample.java</a>:</p>

<img src="/glimpse/images/guide/Heatmap_empty.png" border="1" width="600px"/>

<h3>Glimpse Canvas</h3>

<p>All Glimpse applications start with a <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/canvas/GlimpseCanvas.html">Glimpse Canvas</a> <a href="https://github.com/metsci/glimpse/blob/master/core/src/main/java/com/metsci/glimpse/canvas/GlimpseCanvas.java">(source)</a> which wraps a JOGL <a href="https://jogamp.org/deployment/jogamp-next/javadoc/jogl/javadoc/javax/media/opengl/GLDrawable.html">GLDrawable</a>. A GlimpseCanvas, and the GLDrawable it wraps, are abstractions for generic OpenGL rendering targets. For Swing applications, the concrete GlimpseCanvas implementation <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/canvas/NewtSwingGlimpseCanvas.html">NewtSwingGlimpseCanvas</a>, is a JPanel and can be directly incorporated into an existing Swing application. <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/swt/canvas/NewtSwtGlimpseCanvas.html">SWTGlimpseCanvas</a> provides the analogous capability for SWT applications. Other GlimpseCanvas implementations exist for drawing to off-screen buffers.</p>

<p>The following code snippit is all that is necessary to bring up a Swing JFrame containing a GlimpseCanvas:</p>

{% highlight java %}
    public static void main( String[] args )
    {
        NewtSwingGlimpseCanvas canvas = new NewtSwingGlimpseCanvas( );
        new FPSAnimator( canvas.getGLDrawable( ), 120 ).start( );
        JFrame frame = new JFrame( "Glimpse Example" );
        frame.add( canvas );
        frame.setSize( 100, 100 );
        frame.setVisible( true );
    }
{% endhighlight %}

<p>A NewtSwingGlimpseCanvas can be constructed and added to a Swing application like any other Swing Component. Other NewtSwingGlimpseCanvas constructor arguments allow sharing of OpenGL Contexts between GlimpseCanvases, but the simple zero argument constructor suffices here. Adding the GlimpseCanvas to a FPSAnimator automatically redraws the GlimpseCanvas periodically. Finally, the canvas can be added to the Swing frame like any other Swing component.</p>

<p><a href="https://github.com/metsci/glimpse/blob/master/core-examples/src/main/java/com/metsci/glimpse/examples/Example.java">Example.java</a> provides a more complete example of setting of a simple Swing Glimpse application.</p>

<p>When this snippet is run, a window with a 100 pixel by 100 pixel black square will appear on the screen. In order to get something more interesting showing up, we need to add GlimpseLayouts and GlimpsePainters to the canvas.</p>

<h3>Layouts and Painters</h3>

<p>Glimpse provides tools to break up a single GlimpseCanvas into many (possibly nested) logical plotting areas which can each be painted on and receive mouse events. Each plotting area is defined by a <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/layout/GlimpseLayout.html">GlimpseLayout</a> <a href="https://github.com/metsci/glimpse/blob/master/core/src/main/java/com/metsci/glimpse/layout/GlimpseLayout.java">(source)</a> and arranged using <a href="http://www.miglayout.com/">Mig Layout</a>. The next image outlines the GlimpseLayouts from HeatMapExample. Although everything is rendered in a single OpenGL canvas, Glimpse allows mouse listeners to be attached to any GlimpseLayout and allows rendering to a specific GlimpseLayout.</p>

<img src="/glimpse/images/guide/Heatmap_red_layout_bounds.png" border="1" width="600px"/>

<p>Even better, GlimpseLayouts can be nested, allowing easy construction of very complicated plots. For example, three simple heat map plots could be nested into a single hybrid plot. In the image below the GlimpseLayouts are again outlined in red. The example class <a href="https://github.com/metsci/glimpse/blob/master/core-examples/src/main/java/com/metsci/glimpse/examples/layout/SimpleLayoutExample.java">SimpleLayoutExample.java</a> demonstrates how Mig Layout is used to achieve this arrangement.</p>

<img src="/glimpse/images/guide/Multi_Heatmap_red_layout.png" border="1" width="600px"/>

<p>Once the plotting areas have been defined via GlimpseLayouts, OpenGL rendering inside GlimpseLayouts is performed by GlimpsePainters. Multiple GlimpsePainters can be added to a GlimpseLayout and act like layers. Glimpse provides lots of pre-built painters in the <code><a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/painter/package-summary.html">com.metsci.glimpse.painter</a></code> package. However, most applications also want to perform custom rendering. The <code><a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/painter/base/package-summary.html">com.metsci.glimpse.painter.base</a></code> package contains the <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/painter/base/GlimpsePainter.html">GlimpsePainter</a> interface, as well as a number of abstract helper implementations. In most cases, <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/painter/base/GlimpseDataPainter2D.html">GlimpseDataPainter2D</a> is a good place to start. It handles setting up the OpenGL viewport and scissor regions and projection matrix so that <code>glVertex( )</code> calls will draw to the correct screen location based on the GlimpseLayout being painted into and the bounds of the data axes.

<p>The following example demonstrates a very simple GlimpsePainter which draws a blue diagonal line from <code>(5.0,5.0)</code> to <code>(10.0,10.0)</code> in data coordinates. A <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/painter/base/GlimpsePainter.html">NumericXYAxisPainter</a> (another GlimpsePainter) has also been added to the same GlimpseLayout to draw axis tick marks and labels.

{% highlight java %}
public class SimplePainter extends GlimpseDataPainter2D
{
    @Override
    public void paintTo( GL gl, GlimpseBounds bounds, Axis2D axis )
    {
        gl.glColor3f( 0.0f, 0.0f, 1.0f );
        gl.glLineWidth( 3.0f );
        
        gl.glBegin( GL.GL_LINES );
        try
        {
            gl.glVertex2d( 5.0, 5.0 );
            gl.glVertex2d( 10.0, 10.0 );
        }
        finally
        {
            gl.glEnd( );
        }
    }
}
{% endhighlight %}


<img src="/glimpse/images/guide/Simple_Painter.png" border="1" width="600px"/>

<h3>Mouse Listeners</h3>

In addition to defining where inside a GlimpseCanvas each GlimpsePainter paints to, GlimpseLayouts can also have mouse listeners attached to them. Events will only be reported within the bounds of the GlimpseLayout and coordinates will be reported relative to the lower left corner of the GlimpseLayout.

Glimpse mouse listeners work very similarly to Swing or SWT mouse listeners. A class implementing one of the Glimpse mouse listener interfaces can be registered with any GlimpseLayout. <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/event/mouse/GlimpseMouseListener.html">GlimpseMouseListener</a> can be used to register for mouse clicks, <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/event/mouse/GlimpseMouseMotionListener.html">GlimpseMouseMotionListener</a> for mouse movement, and <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/event/mouse/GlimpseMouseWheelListener.html">GlimpseMouseWheelListener</a> for mouse wheel events.

The following shows a basic example which will print the x and y coordinates of any mouse click inside the GlimpseLayout.

{% highlight java %}
GlimpseLayout layout = new GlimpseLayout( );
layout.addGlimpseMouseListener( new GlimpseMouseAdapter( ) {
    @Override
    public void mousePressed( GlimpseMouseEvent event )
    {
        System.out.printf( "(%d, %d)%n", event.getX( ), event.getY( ) ); 
    }
} );
{% endhighlight %}

<h3>Axes</h3>

<a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/axis/Axis1D.html">Axis1D</a> and <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/axis/Axis2D.html">Axis2D</a> are used in conjunction with GlimpseLayouts and GlimpsePainters to determine where data is drawn.

<a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/layout/GlimpseAxisLayout2D.html">GlimpseAxisLayout2D</a> is a GlimpseLayout subclass which has an associated <a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/axis/Axis2D.html">Axis2D</a>. Glimpse mouse listeners can use this axis to report the click position in axis coordinates instead of pixel coordinates, as in the following example:

{% highlight java %}
// create a new axis and set its min and max x and y values
Axis2D axis = new Axis2D( );
axis.set( 0, 20, -3, 3 );

// create a GlimpseAxisLayout2D which uses the axis to position
// data drawn by painters attached to the axis
GlimpseLayout layout = new GlimpseAxisLayout2D( axis );

// attach a mouse listener as before, but instead of printing
// the position of the mouse click in pixels, print the position
// of the mouse click in axis coordinates
layout.addGlimpseMouseListener( new GlimpseMouseAdapter( ) {
    @Override
    public void mousePressed( GlimpseMouseEvent event )
    {
        System.out.printf( "(%d, %d)%n", event.getAxisCoordinatesX( ), event.getAxisCoordinatesY( ) ); 
    }
} );
{% endhighlight %}

<h3>Plots</h3>

Although you can start with a GlimpseCanvas and construct visualizations by arranging GlimpseLayouts and adding GlimpsePainters and GlimpseMouseListeners, it is often easier to start with one of the pre-built plots in the <code><a href="http://glimpse.metsci.com/apidocs/2.1.2/index.html?com/metsci/glimpse/plot/package-summary.html">com.metsci.glimpse.plot</a></code> package.
